# ============================================
# DiagFlow 环境变量配置
# ============================================
# 用法: cp .env.example .env.local && vim .env.local

# ============================================
# AI 提供商选择（可选，默认 openai）
# ============================================
AI_PROVIDER=openai  # openai | anthropic

# ============================================
# OpenAI 兼容 API 配置（AI_PROVIDER=openai 时使用）
# ============================================
OPENAI_API_KEY=sk-your-api-key-here
OPENAI_BASE_URL=https://api.moonshot.cn/v1
OPENAI_MODEL=kimi-k2-thinking

# 支持的 OpenAI 兼容提供商：
# - Kimi（月之暗面）: https://api.moonshot.cn/v1
# - OpenRouter: https://openrouter.ai/api/v1
# - OpenAI: https://api.openai.com/v1
# - Azure OpenAI: https://{your-resource}.openai.azure.com/

# ============================================
# Anthropic Claude API 配置（AI_PROVIDER=anthropic 时使用）
# ============================================
# ANTHROPIC_API_KEY=sk-ant-your-api-key-here
# ANTHROPIC_BASE_URL=https://api.anthropic.com
# ANTHROPIC_MODEL=claude-3-5-sonnet-20241022

# ============================================
# AI 推理配置（可选）
# ============================================
# 流式响应最大时长（秒），Vercel Hobby 限制 60s，Pro 限制 300s
# DIAGFLOW_MAX_DURATION_SEC=120

# AI 最大推理步数（工具调用轮数），复杂图表可能需要更多步骤
# DIAGFLOW_MAX_STEPS=15

# 渲染失败最大重试次数
# DIAGFLOW_MAX_RETRIES=3

# ============================================
# Kroki 渲染服务配置（可选）
# ============================================
# 默认使用公网服务，也可以自托管
NEXT_PUBLIC_KROKI_BASE_URL=https://kroki.io

# 自托管示例：
# docker run -d -p 8080:8000 yuzutech/kroki
# NEXT_PUBLIC_KROKI_BASE_URL=http://localhost:8080

# ============================================
# 超时和性能配置（可选）
# ============================================
# Kroki 请求超时（毫秒）
# NEXT_PUBLIC_REQUEST_TIMEOUT=60000

# 代码编辑防抖延迟（毫秒）
# NEXT_PUBLIC_DEBOUNCE_MS=500

# 自动保存间隔（毫秒）
# NEXT_PUBLIC_AUTO_SAVE_INTERVAL=30000

# ============================================
# Langfuse 监控配置（可选）
# ============================================
# 用于追踪 AI 生成过程、工具调用和语法错误模式
# 注册地址: https://cloud.langfuse.com
# LANGFUSE_SECRET_KEY=sk-lf-your-secret-key
# LANGFUSE_PUBLIC_KEY=pk-lf-your-public-key
# LANGFUSE_HOST=https://cloud.langfuse.com
