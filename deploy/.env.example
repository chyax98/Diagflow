# ============================================
# DiagFlow Docker 部署环境变量
# ============================================
# 用法: cp .env.example .env && vim .env

# ============================================
# AI 提供商选择（可选，默认 openai）
# ============================================
AI_PROVIDER=openai  # openai | anthropic

# ============================================
# OpenAI 兼容 API 配置（AI_PROVIDER=openai 时使用）
# ============================================
OPENAI_API_KEY=sk-your-api-key-here
OPENAI_BASE_URL=https://api.moonshot.cn/v1
OPENAI_MODEL=kimi-k2-thinking

# 支持的 OpenAI 兼容提供商：
# - Kimi（月之暗面）: https://api.moonshot.cn/v1
# - OpenRouter: https://openrouter.ai/api/v1
# - OpenAI: https://api.openai.com/v1
# - Azure OpenAI: https://{your-resource}.openai.azure.com/

# ============================================
# Anthropic Claude API 配置（AI_PROVIDER=anthropic 时使用）
# ============================================
# ANTHROPIC_API_KEY=sk-ant-your-api-key-here
# ANTHROPIC_BASE_URL=https://api.anthropic.com
# ANTHROPIC_MODEL=claude-sonnet-4-20250514

# ============================================
# AI 推理配置（可选）
# ============================================
# AI 最大推理步数（工具调用轮数），复杂图表可能需要更多步骤
# DIAGFLOW_MAX_STEPS=15

# 渲染失败最大重试次数
# DIAGFLOW_MAX_RETRIES=3

# ============================================
# Kroki 渲染服务配置（可选）
# ============================================
# 默认使用公网服务，也可以自托管
# Docker 部署使用 KROKI_BASE_URL（服务端运行时变量）
KROKI_BASE_URL=https://kroki.io

# 使用 docker-compose.kroki.yml 时会自动设置为 http://kroki:8000
# 自托管示例：
# docker run -d -p 8080:8000 yuzutech/kroki
# KROKI_BASE_URL=http://localhost:8080

# ============================================
# Langfuse 监控配置（可选）
# ============================================
# 用于追踪 AI 生成过程、工具调用和语法错误模式
# 注册地址: https://cloud.langfuse.com
# LANGFUSE_SECRET_KEY=sk-lf-your-secret-key
# LANGFUSE_PUBLIC_KEY=pk-lf-your-public-key
# LANGFUSE_HOST=https://cloud.langfuse.com

# 如果不配置，telemetry 会自动跳过，不影响正常使用
